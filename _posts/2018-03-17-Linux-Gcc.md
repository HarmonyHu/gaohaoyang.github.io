---
layout: post
title: gcc参数选项整理
categories: Linux
tags: Linux gcc
---

* content
{:toc}

## 选项说明

#### -o
`gcc test.c -o test`  
将gcc的处理结果输出到test文件中。本例中输出可执行文件。

#### -E
`gcc -E test.c -o test.i`  
将预处理输出到test.i文件中。在大型项目中，可能各个宏的值不容易从代码里面直接看出来，通过-E参数，可以全部展开。


#### -S
`gcc -S test.i -o test.S`  
将预处理文件test.i转出汇编文件test.S。

#### -c
`gcc -c test.S -o test.o`  
`gcc test.o -o test`  
将汇编文件test.S编译成输出文件test.o；再将输出文件编译成可执行文件test。

#### -O
`gcc -O1 test.c -o test`  
使用优化级别1编译程序。级别1~3，越大优化越多，编译时间越长。也可以不带数字，默认是1。

#### -Dmacro
1. `gcc -DNO_FUNCTION test.c -o test`  
相当于test.c中添加宏定义`#define NO_FUNCTION 1`  
2. `gcc -DCPU_NUM=4 test.c -o test`  
相当于test.c中添加宏定义`#define CPU_NUM 4`  
3. `gcc -DCPU_NUM="4" test.c -o test`  
与上相同，相当于定义`#define CPU_NUM 4`  
4. `gcc -DCPU_NUM=\"4\" test.c -o test`  
定义一个字符串宏，相当于`#define CPU_NUM "4"`  

#### -Wall
生成所有警告信息  

#### -lxx -Lxx -Ixx
`gcc test.c -lstr -L/path/lib -I/path/include -o test`  
表示链接libstr.so库，库所在路径为/path/lib，头文件所在路径为/path/include  

#### -g
`gcc -g test.c -o test`  
生成gbd的调试信息，可以通过`gdb test`跟踪调试  
